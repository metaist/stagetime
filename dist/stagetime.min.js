/** stagetime v0.1.0 | @copyright 2018 Metaist LLC <metaist.com> | @license MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.stagetime={})}(this,function(t){"use strict";const e=Math.pow(2,31)-1,n=t=>{let e=null;if(!t)return e;let n=null,i=[];switch(Object.prototype.toString.call(t)){case"[object Number]":e=t;break;case"[object Date]":e=t.getTime();break;case"[object String]":e=(n=t.endsWith("Z")?(...t)=>Date.UTC(...t):(...t)=>new Date(...t).getTime())((i=t.split(/[-.:\sTZ+]/))[0],i[1]-1,i[2],i[3]||0,i[4]||0,i[5]||0,i[6]||0);break;default:e=null}return e},i={context:document,attr_after:"data-stagetime-after",attr_until:"data-stagetime-until",class_on:"stagetime-on",class_off:"stagetime-off"},a=(t,o={})=>{const s=Object.assign({},i,o);if(!t){return((t,e=document)=>{var n=[];return t.tagName?n=[t]:"[object String]"===Object.prototype.toString.call(t)?n=Array.from(e.querySelectorAll(t)):t.length&&t.length>-1&&(n=Array.from(t)),n})(`[${s.attr_after}],[${s.attr_until}]`,s.context).map(t=>a(t,s))}const r=((t,i,a=null)=>{const o=n(a)||(new Date).getTime(),s=n(t),r=n(i);return{is_on:!(s&&o<s||r&&o>r),show_in:o<s?Math.min(s-o+10,e):0,hide_in:o<r?Math.min(r-o+10,e):0}})(t.getAttribute(s.attr_after),t.getAttribute(s.attr_until));return t.classList.add(r.is_on?s.class_on:s.class_off),t.classList.remove(r.is_on?s.class_off:s.class_on),r.show_in&&setTimeout(()=>a(t),r.show_in),r.hide_in&&setTimeout(()=>a(t),r.hide_in),t};a(),t.version="0.1.0",t.init=a,t.DEFAULTS=i,Object.defineProperty(t,"__esModule",{value:!0}),t._build="2018-08-21T23:36:24.627Z"});
//# sourceMappingURL=stagetime.min.js.map
